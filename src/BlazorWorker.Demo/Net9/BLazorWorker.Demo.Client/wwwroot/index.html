<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BlazorWorker.Demo.Client</title>
    <base href="/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="BlazorWorker.Demo.Client.styles.css" rel="stylesheet" />
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ðŸ—™</span>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="_content/TG.Blazor.IndexedDB/indexedDb.Blazor.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const app = document.getElementById('app');
            const svg = app.querySelector('.loading-progress');

            if (!svg) return;

            // Get position and size of SVG
            const rect = svg.getBoundingClientRect();

            // Create the image element
            const img = document.createElement('img');
            img.src = 'loading-icon.svg';
            img.width = 97;
            img.height = 88;
            img.style.position = 'absolute';
            img.style.left = rect.left + window.scrollX + rect.width / 2 - 97 / 2 + 'px';
            img.style.top = rect.top + window.scrollY + rect.height / 2 - 88 / 2  + 'px';
            img.style.pointerEvents = 'none';
            img.style.zIndex = '9999';

            // Add it to the body
            document.getElementById("app").appendChild(img);
        });
    </script>
</body>

</html>
